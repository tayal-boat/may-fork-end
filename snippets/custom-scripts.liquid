<!-- Algolia head -->
{% for tag in customer.tags %}
  {% if tag == 'gst_added' %}
    {% assign gst_added = true %}
    {% break %}
  {% else %}
    {% assign gst_added = false %}
  {% endif %}
{% endfor %}

<script type="deferjs">
<<<<<<< HEAD
    AOS.init({
    duration: 1200,
  });
      $(function () {
        $(".video, .video-new").videoPopup();
      });

     var _rmData = _rmData || [];
    _rmData.push(['setStoreKey', 'Rm193om6']);
    {% if customer %}
    _rmData.push(['setCustomer', {{ customer.email | json }}]);
    {% endif %}

     (function(d, t) {
      var g = d.createElement(t),
=======
  AOS.init({duration: 1200});
  $(function() {
    $(".video, .video-new").videoPopup();
  });

  var _rmData = _rmData || [];
  _rmData.push(['setStoreKey', 'Rm193om6']);{% if customer %}_rmData.push(['setCustomer', {{ customer.email | json }}]);{% endif %}(function(d, t) {
    var g = d.createElement(t),
>>>>>>> origin/sheena
      s = d.getElementsByTagName(t)[0];
    g.src = 'https://d3ryumxhbd2uw7.cloudfront.net/webtracking/track.js';
    s.parentNode.insertBefore(g, s);
  }(document, 'script'));{% if customer.metafields.custom.gst_address %}Shopify.gst_added = {% if gst_added %}
      {{ gst_added }}
    {% else %}
      false
    {% endif %};
    let address = {{ customer.metafields.custom.gst_address }};

<<<<<<< HEAD
      {% if customer.metafields.custom.gst_address %}
      Shopify.gst_added = {% if gst_added %} {{ gst_added }} {% else %} false {% endif %};
      let address = {{ customer.metafields.custom.gst_address }};

      sessionStorage.setItem('gstin', address.gst );
      sessionStorage.setItem('gst_billing_name', address.name );
      sessionStorage.setItem('gst_billing_address', address.address1 );
      sessionStorage.setItem('gst_billing_city', address.city );
      sessionStorage.setItem('gst_billing_state', address.state );
      sessionStorage.setItem('gst_billing_pincode', address.pincode );
      {% endif %}
   console.log('hii lazy script');

   let chatbot = document.getElementsByClassName("chatbot")
   for (let i = 0; i < chatbot.length; i++) {
    chatbot[i].addEventListener("click", function(e){
      e.preventDefault();
      if(window.sprChatSettings == undefined){
        sessionStorage.setItem('chatbot','clicked');
=======
    sessionStorage.setItem('gstin', address.gst);
    sessionStorage.setItem('gst_billing_name', address.name);
    sessionStorage.setItem('gst_billing_address', address.address1);
    sessionStorage.setItem('gst_billing_city', address.city);
    sessionStorage.setItem('gst_billing_state', address.state);
    sessionStorage.setItem('gst_billing_pincode', address.pincode);{% endif %}console.log('hii lazy script');

  let chatbot = document.getElementsByClassName("chatbot")
  for (let i = 0; i < chatbot.length; i++) {
    chatbot[i].addEventListener("click", function(e) {
      e.preventDefault();
      if (window.sprChatSettings == undefined) {
        sessionStorage.setItem('chatbot', 'clicked');
>>>>>>> origin/sheena
      }
    });
  }
</script>

{% unless template contains 'product' %}
  <script type="lazyScript2">
    console.log('hii sprChatSettings');
    window.sprChatSettings = window.sprChatSettings || {};
<<<<<<< HEAD
    window.sprChatSettings = { appId: '621a05ac610f9e4bb89aaed7_app_600017531' };
    (function () {
      var t = window,
        e = t.sprChat,
        a = e && !!e.loaded,
        n = document,
        r = function () {
          r.m(arguments);
        };
      (r.q = []),
        (r.m = function (t) {
          r.q.push(t);
        }),
        (t.sprChat = a ? e : r);
      var o = function () {
        var e = n.createElement('script');
        (e.type = 'text/javascript'),
          (e.async = !0),
          (e.src = 'https://prod4-live-chat.sprinklr.com/api/livechat/handshake/widget/' + t.sprChatSettings.appId),
          (e.onerror = function () {
            t.sprChat.loaded = !1;
          }),
          (e.onload = function () {
            t.sprChat.loaded = !0;
          });
=======
    window.sprChatSettings = {
      appId: '621a05ac610f9e4bb89aaed7_app_600017531'
    };
    (function() {
      var t = window,
        e = t.sprChat,
        a = e && !! e.loaded,
        n = document,
        r = function() {
          r.m(arguments);
        };
      (r.q =[]),
      (r.m = function(t) {
        r.q.push(t);
      }),
      (
        t.sprChat = a
          ? e
          : r
      );
      var o = function() {
        var e = n.createElement('script');
        (e.type = 'text/javascript'),
        (e.async =! 0),
        (e.src = 'https://prod4-live-chat.sprinklr.com/api/livechat/handshake/widget/' + t.sprChatSettings.appId),
        (e.onerror = function() {
          t.sprChat.loaded = !1;
        }),
        (e.onload = function() {
          t.sprChat.loaded = !0;
        });
>>>>>>> origin/sheena
        var a = n.getElementsByTagName('script')[0];
        a.parentNode.insertBefore(e, a);
      };
      'function' == typeof e
        ? a
          ? e('update', t.sprChatSettings)
          : o()
        : 'loading' !== n.readyState
<<<<<<< HEAD
        ? o()
        : n.addEventListener('DOMContentLoaded', o);
    })();
    setTimeout(function () {
      for (let i = 0; i < chatbot.length; i++) {
        chatbot[i].addEventListener('click', function (e) {
=======
          ? o()
          : n.addEventListener('DOMContentLoaded', o);
    })();
    setTimeout(function() {
      for (let i = 0; i < chatbot.length; i++) {
        chatbot[i].addEventListener('click', function(e) {
>>>>>>> origin/sheena
          e.preventDefault();
          sessionStorage.setItem('chatbot', 'notclicked');
          var iframe = document.querySelector('[name="spr-chat__trigger-frame"]');
          var iframeDoc = iframe.contentDocument || iframe.contentWindow;
          var iframeHtml = iframeDoc.getElementsByTagName('html')[0];
          iframeHtml.querySelector('.frame-content [data-testid="Open chat"]').click();
        });
      }
    }, 1500);
<<<<<<< HEAD
    setTimeout(function () {
=======
    setTimeout(function() {
>>>>>>> origin/sheena
      if (sessionStorage.chatbot == 'clicked') {
        var iframe = document.querySelector('[name="spr-chat__trigger-frame"]');
        var iframeDoc = iframe.contentDocument || iframe.contentWindow;
        var iframeHtml = iframeDoc.getElementsByTagName('html')[0];
        iframeHtml.querySelector('.frame-content [data-testid="Open chat"]').click();
      }
    }, 3000);
  </script>
{% endunless %}

<script>
<<<<<<< HEAD
  $('.algolia-header-search-input').css('pointer-events','all');
=======
  {% comment %}
  $('.algolia-header-search-input').css('pointer-events', 'all');
>>>>>>> origin/sheena
  var algolia_config = "{{ 'algolia_config.js' | asset_url }}";
  var algolia_externals = "{{ 'algolia_externals.js' | asset_url }}";
  var algolia_init = "{{ 'algolia_init.js' | asset_url }}";
  var algolia_analytics = "{{ 'algolia_analytics.js' | asset_url }}";
  var algolia_translations = "{{ 'algolia_translations.js' | asset_url }}";
  var algolia_helpers = "{{ 'algolia_helpers.js' | asset_url }}";
  var algolia_autocomplete = "{{ 'algolia_autocomplete.js' | asset_url }}";
  var algolia_facets = "{{ 'algolia_facets.js' | asset_url }}";
  var algolia_sort_orders = "{{ 'algolia_sort_orders.js' | asset_url }}";
<<<<<<< HEAD
  var cloudfront = 'https://d3ryumxhbd2uw7.cloudfront.net/webtracking/rmShopifyUtils.min.js';
  var loaded = false;

  Defer.js(
    algolia_config,
    'algolia_config-js',
    0,
    function () {
      console.info('algolia_config is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_externals,
    'algolia_externals-js',
    100,
    function () {
      console.info('algolia_externals is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_init,
    'algolia_init-js',
    300,
    function () {
      console.info('algolia_init is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_analytics,
    'algolia_analytics-js',
    500,
    function () {
      console.info('algolia_analytics is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_translations,
    'algolia_translations-js',
    600,
    function () {
      console.info('algolia_translations is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_helpers,
    'algolia_helpers-js',
    700,
    function () {
      console.info('algolia_helpers is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_autocomplete,
    'algolia_autocomplete-js',
    800,
    function () {
      console.info('Algolia_autocomplete is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_facets,
    'algolia_facets-js',
    900,
    function () {
      console.info('algolia_facets is loaded.'); // debug
    },
    true
  );
  Defer.js(
    algolia_sort_orders,
    'algolia_sort_orders-js',
    1000,
    function () {
      console.info('algolia_sort_orders is loaded.'); // debug
    },
    true
  );

  Defer.js(
    cloudfront,
    'cloudfront-js',
    1200,
    function () {
      console.info('cloudfront is loaded.'); // debug
    },
    true
  );
</script>

<script>
=======

  var loaded = false;

  Defer.js(algolia_config, 'algolia_config-js', 0, function() {
    console.info('algolia_config is loaded.'); // debug
  }, true);
  Defer.js(algolia_externals, 'algolia_externals-js', 100, function() {
    console.info('algolia_externals is loaded.'); // debug
  }, true);
  Defer.js(algolia_init, 'algolia_init-js', 300, function() {
    console.info('algolia_init is loaded.'); // debug
  }, true);
  Defer.js(algolia_analytics, 'algolia_analytics-js', 500, function() {
    console.info('algolia_analytics is loaded.'); // debug
  }, true);
  Defer.js(algolia_translations, 'algolia_translations-js', 600, function() {
    console.info('algolia_translations is loaded.'); // debug
  }, true);
  Defer.js(algolia_helpers, 'algolia_helpers-js', 700, function() {
    console.info('algolia_helpers is loaded.'); // debug
  }, true);
  Defer.js(algolia_autocomplete, 'algolia_autocomplete-js', 800, function() {
    console.info('Algolia_autocomplete is loaded.'); // debug
  }, true);
  Defer.js(algolia_facets, 'algolia_facets-js', 900, function() {
    console.info('algolia_facets is loaded.'); // debug
  }, true);
  Defer.js(algolia_sort_orders, 'algolia_sort_orders-js', 1000, function() {
    console.info('algolia_sort_orders is loaded.'); // debug
  }, true);
  {% endcomment %}
  var cloudfront = 'https://d3ryumxhbd2uw7.cloudfront.net/webtracking/rmShopifyUtils.min.js';
  Defer.js(cloudfront, 'cloudfront-js', 1200, function() {
    console.info('cloudfront is loaded.'); // debug
  }, true);
</script>


<script>
$('.algolia-header-search-input').css('pointer-events', 'all');
>>>>>>> origin/sheena
  Defer.all('script[type="lazyScript"]', 0, true);
  Defer.all('script[type="lazyScript2"]', 500, true);
</script>

<style>
  .spr-chat__trigger-box.spr-live-chat-frame {
    display: none !important;
  }
  .spr-chat__box.spr-live-chat-frame {
    z-index: 999;
  }
</style>
<!-- /Algolia head -->
