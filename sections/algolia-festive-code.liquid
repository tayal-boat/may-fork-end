{% capture algolia_no_result %}
{{ section.settings.no_result_message | json }}
{% endcapture %}
{% capture search_placeholder %}
{{ section.settings.search_placeholder | json }}
{% endcapture %}
{% capture algolia_festive %}
  [
  {% for block in section.blocks %}
    {
    "search_query" : "{{ block.settings.search_query }}",
    "coupon_code" : "{{ block.settings.coupon_code }}",
    "coupon_value" : "{{ block.settings.coupon_value }}",
    "message" : "{{ block.settings.message }}",
    "message2" : "{{ block.settings.message2 }}"
    }
    {% unless forloop.last %},{% endunless %}
  {% endfor %}
  ]
{% endcapture %}

<script>
  Shopify.algolia_festive = `{{ algolia_festive }}`;
  Shopify.algolia_no_result = `{{ algolia_no_result }}`;
  Shopify.search_placeholder = `{{ search_placeholder}}`;
</script>


{% schema %}
  {
    "name": "algolia Codes",
    "settings": [
      {
        "type": "textarea",
        "id": "no_result_message",
        "label": "No result page message",
        "default": "Oh shoot. We've hit offshore with that search. <br> ðŸ˜‘ <br> Try one of this?"
      },
      {
        "type": "text",
        "id": "search_placeholder",
        "label": "format: \"Earphones\", \"Smartwatches\", \"Speakers\", \"Neckbands\""
      }
    ],
    "blocks": [
      {
        "type": "algolia",
        "name": "algolia Codes",
        "settings": [
          {
            "type": "text",
            "id": "search_query",
            "label": "Search query"
          }, {
            "type": "text",
            "id": "coupon_code",
            "label": "Coupon code"
          }, {
            "type": "richtext",
            "id": "coupon_value",
            "label": "Coupon value"
          }, {
            "type": "textarea",
            "id": "message",
            "label": "Message"
          },{
            "type": "textarea",
            "id": "message2",
            "label": "Message 2",
            "default": "Here's a small gift from us to double your celebrations..."
          }
        ]
      }
    ],

    "presets": [
      {
        "category": "algolia",
        "name": "algolia Codes",
        "settings": {}
      }
    ]
  }
{% endschema %}