{% assign templates = shop.metafields.quinn_templates %}
{% assign templateTypes = "overlay,overlayinfo,dropdownVariant,shadeVariant,sizeVariant"| split:"," %}

{% assign indexeString = ''%}

{% for template in templates  %}
    {% if templateTypes contains template[1].widgetType %}
      {% assign indexeString = indexeString | append: template[0] | append: ',' %}
    {% endif %}
{% endfor %}

{% assign indexeString = indexeString | split: ',' %}
{
   "templates": [
      {% for index in indexeString  %}
        {{ templates[index] | json }} {% unless forloop.last %}, {% endunless %}
      {% endfor %}
   ],
   "indexeString": {{ indexeString | json }}
}
