<div data-section-type="cart-template" data-ajax-update="true">
            <p class="cart-val-error" style="margin-top:12px;"></p>
  <div class="page-header">
    <h1 class="majortitle">{{ 'cart.general.title' | t }}</h1>
  </div>
  {% comment %}
  <div class="gaana">
    <p class="text-red txt-black">
      <strong>Add your FREE boAt mask to your and avail it on all orders exceeding Rs999.</strong>
    </p>
  </div>
  
  <div class="freebies-text">
    <p class="avail-freebie text-red hide">But some more to spend <strong>above Rs. 2000 & FREE Bassheads 172</strong>.</p>
    <p class="congrats-bassheads text-red hide"><strong>CongratulationsðŸ¥³. Youâ€™re now eligible for FREE Bassheads 172(Red). </strong> Add <a href="https://www.boat-lifestyle.com/products/bassheads-172?variant=20341574434914"><strong>Bassheads 172(Red)</strong></a> to your cart and apply code <strong>#GetHooked</strong>.</p>
  </div>
  {% endcomment %}
  

  {% if cart.items == empty %}
    <div class="row-spacing align-centre">
      <p>{{ 'cart.general.empty' | t }}</p>
      <a style="font-size: 14px;display: inline-block;border: 1px solid #ff0000;padding: 5px 10px;border-radius: 5px;background: #ff0000;color: #fff;margin: 0;" class="continue-shopping" href="https://www.boat-lifestyle.com/collections">{{ 'cart.general.continue' | t }}</a>
    </div>
  {% else %}
    <form action="/cart" method="post" id="cartform">
      <div class="cart-item-list content-divider">
        <div class="cart-item-list__head">
          <div class="cart-item-list-heading cart-item-list-heading--product">{{ 'cart.label.product' | t }}</div>
          <div class="cart-item-list-heading cart-item-list-heading--price">{{ 'cart.label.price' | t }}</div>
          <div class="cart-item-list-heading cart-item-list-heading--quantity">{{ 'cart.label.quantity' | t }}</div>
          <div class="cart-item-list-heading cart-item-list-heading--total">{{ 'cart.label.total' | t }}</div>
        </div>
        <div class="cart-item-list__body">
          {% for item in cart.items %}
            <div class="cart-item product-{{ item.product.handle }}">
              {%- comment -%}
              Determining the handle of the collection that was last seen for the 'continue shopping' link.
              {%- endcomment -%}

              {%- if forloop.first -%}
                {%- capture collection_url -%}{{ item.product.collections.first.url }}{%- endcapture -%}
                {%- if collection_url == empty or collection_url == '/collections/frontpage' -%}{%- assign collection_url = '/collections/all' -%}{%- endif -%}
              {%- endif -%}

              <div class="cart-item__column cart-item__image">
                <a href="{{ item.url }}">
                  {% include 'responsive-image', image: item.image, max_height: 100 %}
                </a>
              </div>

              <div class="cart-item__not-image">
                <div class="cart-item__column cart-item__description">
                  <div>
                    <a class="name" href="{{ item.url }}">{{ item.product.title }}</a>
                    {% if item.product.variants.size > 0 %}
                    <div class="variant">
                        <ul class="prodct_variant">
                      <li class="veriant_sect" style="display: inline-block;background-color:{% if item.variant.option2 %}{{item.variant.option2}} {% else %} {{item.variant.option1}} {% endif %}" title="{{item.variant.option1}}"></li>
                      </ul>
                          </div>
                    {% endif %}

                    {% if item.variant.inventory_management == 'shopify' and item.variant.inventory_quantity < 1 %}
                    <div class="backorder">
                      <p>{{ 'cart.general.backorder' | t }}</p>
                    </div>
                    {% endif %}
                  </div>

                  {%- for p in item.properties -%}
                    {% unless p.last == blank %}
                      <span class="custom">{{ p.first }}:
                        {% if p.last contains '/uploads/' %}
                        <a href="{{ p.last }}">{{ p.last | split: '/' | last }}</a>
                        {% else %}
                        {{ p.last }}
                        {% endif %}
                      </span>
                    {% endunless %}
                  {%- endfor -%}
                </div>

                <div class="cart-item__column cart-item__price">
                  {% if item.original_line_price > item.final_line_price %}
                    <div class="struck-out-price"><span class="theme-money">{{ item.original_price | money }}</span></div>
                  {% endif %}
                  <div><span class="theme-money">{{ item.final_price | money }}</span></div>
                  {% if item.line_level_discount_allocations.size > 0 %}
                    <ul class="cart-discount-list">
                    {% for discount_allocation in item.line_level_discount_allocations %}
                      <li class="cart-discount">
                        <div class="cart-discount__label">
                            <span class="cart-discount__icon">{% include 'icon-label' %}</span>
                            <span class="cart-discount__title">{{ discount_allocation.discount_application.title }}</span>
                        </div>
                        <div class="cart-discount__amount theme-money">{{ discount_allocation.amount | money }}</div>
                      </li>
                    {% endfor %}
                    </ul>
                  {% endif %}
                </div>

                {% if item.variant.inventory_management == 'shopify' and item.variant.inventory_policy == 'deny' and item.variant.inventory_quantity <= item.quantity %}
                  {% assign can_increase = false %}
                {% else %}
                  {% assign can_increase = true %}
                  {% assign max_qty = 7 %}
                {% endif %}
                <div class="cart-item__column cart-item__quantity">
                  <div class="quantity buttoned-input">
                    <a id="updates_dec_{{ forloop.index }}" class="notabutton quantity-down {% if item.quantity < 2 %}unusable{% endif %}" href="/cart/change?line={{ forloop.index }}&quantity={{ item.quantity | minus: 1 }}" aria-label="{{ 'cart.label.decrease' | t | escape }}">{% include 'svg-minus' %}</a>
                    <input
                      class="cart-item__quantity-input"
                      type="number"
                      max="7"
                      size="2"
                      id="updates_{{ forloop.index }}"
                      name="updates[]"
                      value="{{ item.quantity }}"
                      data-initial-value="{{ item.quantity }}"
                      data-line="{{ forloop.index }}"
                      {% if item.variant.inventory_management == 'shopify' and item.variant.inventory_policy == 'deny' %}data-max="{{ item.variant.inventory_quantity }}"{% endif %}
                      aria-label="{{ 'cart.general.quantity' | t | escape }}" />
                    <a id="updates_inc_{{ forloop.index }}" class="notabutton quantity-up {% unless can_increase %}unusable{% endunless %} {% if item.quantity > 6 %}unusable{% endif %}" href="/cart/change?line={{ forloop.index }}&quantity={{ item.quantity | plus: 1 }}" aria-label="{{ 'cart.label.increase' | t | escape }}">{% include 'svg-plus' %}</a>
                  </div>
                  <a class="remove--cart-{{item.product.handle}} removeBtn" href="/cart/change?line={{ forloop.index }}&quantity=0">&times;</a>
					<script>
                      $(".remove--cart-{{item.product.handle}}").click(function(e){
                        var confirmDialog = confirm('Are you sure you want to remove the item from the cart?');
                      	var userSource = '';
                        if(navigator.userAgent.includes('Mobile')) userSource = 'Mobile';
                        else if(navigator.userAgent.includes('iPad')) userSource = 'Tablet';
                        else userSource = 'Desktop';
                      	if (confirmDialog === true) {
                          dataLayer.push({ ecommerce: null });
                          dataLayer.push({
                            'event': 'remove_from_cart',
                            'ecommerce': {
                              'items': [{
                                'item_name': '{{item.product.title}}',
                                'item_id': '{{item.product.id}}',
                                'price': '{{item.final_price | money_without_currency  }}',
                                'item_category': '{{item.product.type}}',
                                'item_variant': '{{item.variant.option1}}',
                                'quantity': '{{item.quantity}}'
                              }]
                            }
                          });
                          clevertap.event.push('Removed from Cart', {
                          	'Product Name': '{{item.product.title}} - {{item.variant.option1}}',
                            'Product Id': '{{item.product.id}}',
                            'Price': '{{item.final_price | money_without_currency  }}',
                            'Category': '{{item.product.type}}',
                            'Quantity': '{{item.quantity}}',
                            'userSource': userSource
                          })
                        } else {
                            e.preventDefault();
                        }
                      });
                  </script>
                </div>

                <div class="cart-item__column cart-item__total" data-line="{{ forloop.index }}">
                  {% if item.original_line_price != item.final_line_price %}
                    <div class="theme-money struck-out-price">{{ item.original_line_price | money }}</div>
                    <span class="theme-money">{{ item.final_line_price | money }}</span>
                  {% else %}
                    <span class="theme-money">{{ item.final_line_price | money }}</span>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>

      <div class="checkout-subtotal-container" style="clear:both;overflow:hidden">
        <div class="checkout-subtotal-container__left layout-column-half-left">
          {% if section.settings.enable_cart_notes %}
            <div class="checkout-note">
              <label for="note">{{ 'cart.label.note' | t }}</label>
              <div class="textareawrapper"><textarea id="note" name="note">{{ cart.note }}</textarea></div>
            </div>
          {% endif %}

          {% if section.settings.show_shipping_calculator %}
            <button class="notabutton" data-toggle-shipping data-toggle-html="{{ 'cart.shipping_calculator.button_hide' | t | escape }}">{{ 'cart.shipping_calculator.button_show' | t }}</button>
            {% include 'shipping-calculator', default_country: section.settings.shipping_calculator_default_country %}
          {% endif %}
        </div>

        <div class="checkout-subtotal-container__right layout-column-half-right">
          <div class="gaana2 hide" style="display:none;">
            <p class="text-red txt-black">
              <strong>Add FREE <a href="https://www.boat-lifestyle.com/products/boat-mask" style="text-decoration:underline;">boAt mask</a> to your cart and avail it on all orders exceeding Rs 999.</strong>
            </p>
          </div>
          {%- if cart.cart_level_discount_applications != blank -%}
            <ul class="cart-discount-list">
              {%- for discount_application in cart.cart_level_discount_applications -%}
                <li class="cart-discount cart-discount--inline">
                  <span class="cart-discount__label">
                      <span class="cart-discount__icon">{% include 'icon-label' %}</span>
                      <span class="cart-discount__title">{{ discount_application.title }}</span>
                  </span>
                  <span class="cart-discount__amount theme-money">{{ discount_application.total_allocated_amount | money }}</span>
                </li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
          <h2 class="subtotal h2-style">
            Total:
            <span class="theme-money">{{ cart.total_price | money }}</span>
            <input type="hidden" class="final__price" value="{{ cart.total_price | money_without_currency }}">
            <!--<p class="cart-val-error" style="margin-right:0;margin-top:12px;"></p>-->
          </h2>

          {% comment %}<div>{{ 'cart.general.message' | t }}</div>{% endcomment %}
          
          {% comment %}

            {% if section.settings.cart_terms_page != blank %}
              <div class="termsagreement">
                <input type="checkbox" id="terms" />
                {% assign terms_url = pages[section.settings.cart_terms_page].url %}
                <label for="terms">{{ 'cart.terms.agreement_html' | t: terms_url: terms_url }}</label>
              </div>
            {% endif %}
          
           {% endcomment %}

          <div class="checkout-col">
            <p style="display:none;color: #000;clear: both;font-size: 14px;line-height: normal;">*We advise you to <a href="https://www.boat-lifestyle.com/account/register" style="color: #000;text-decoration:underline;font-weight:bold;">create an account</a> so that you have detailed information about your order and upcoming offers !</p>
            <div class="checkout-buttons">
              <div class="update-cart-container">
                <input type="submit" class="notabutton" name="update" value="{{ 'cart.general.update' | t }}" /> {{ 'cart.general.or' | t }}
              </div>

              <input type="submit" class="button button--large" id="update-cart" name="checkout" value="{%comment%}
{{ 'cart.general.checkout' | t }}{%endcomment%}PAY VIA CREDIT/DEBIT CARD/OTHERS" />

              {% if additional_checkout_buttons and section.settings.cart_terms_page == blank %}
              <div class="additional-checkout-buttons">
                {{ content_for_additional_checkout_buttons }}
              </div>
              {% endif %}
            </div>
            <div class="gokwik-container btn-right">
                <button class="gokwikpay" data-type="cod" style="margin-top:0 !important; background-color: #ff0000;" data-theme='{"primaryClr":"#000 "}'>
                    <span>
                        <span class="btn-text">
                           <span>CASH ON DELIVERY/UPI</span>
<!--                            <span class="cod-new-text">Get extra Rs.50 Off on UPI</span>	 -->
                         </span>
                    </span>
                    <span>
                        <img class="pay-opt-icon" src="https://cdn.gokwik.co/v4/images/upi-icons.svg">
                        <img src="https://cdn.gokwik.co/v4/images/right-arrow.svg">
                    </span>
                </button>
            </div>
            <a class="continue-shopping" href="https://www.boat-lifestyle.com/collections">{{ 'cart.general.continue' | t }}</a>
            
            
          </div>
        </div>
      </div>
    </form>
  {% endif %}
</div>
{% comment %}
<div class="cart-offers">
  <h5>boAt Holi Sale!</h5>
<!--   <p>1. Get a FREE Rugby on all orders exceeding Rs 2500. Add your free Rugby to your cart and apply code <span class="code">RUGBYHOLI</span></p> -->
<!--   <p>1. Get a FREE Stone 260 on all orders exceeding Rs 2500. Add your free Stone 260 to your cart and apply code <span class="code">STONEHOLI</span></p> -->
  <p>1. Get a FREE Rugged V3 on all orders exceeding Rs 1299. Add your free Rugged V3 to your cart and apply code <span class="code">USBHOLI</span></p>
  <p>2. UNMASK Holi 2021 with boAt's free mask on all orders exceeding Rs 999. Add your free mask to your cart and apply code <span class="code">#boAtMaskOn</span></p>
  <p><strong>#WITHLOVEFROMBOAT</strong></p>
</div>
<style>
  .cart-offers {
  	width: 100%;
    clear: both;
    overflow: hidden;
    padding: 15px;
    border: 2px dashed #ff0000;
    margin-top: 30px;
    border-radius: 5px;
    -webkit-box-shadow: 0px 2px 8px 1px #ccc;
    -moz-box-shadow: 0px 2px 8px 1px #ccc;
    box-shadow: 0px 2px 8px 1px #ccc;
  }
  .code, .cart-offers h5 {font-weight: bold;}
  .cart-offers p {margin:0;font-size: 14px;}
</style>
{% endcomment %}
<style>
  .gaana a:hover {color:#000;}
  body.template-cart {background: white !important;}
</style>
<script>
  
  {% assign foo = "bar" %}
  var title="";
  {%- for item in cart.items -%}
   if(title!="")
     {
    title=  title+","+"{{ item.product.title }}"
     }
   else if(title=="")
     {
     title="{{ item.product.title }}"
     }
   {% assign foo = "title" %}  
  {%- endfor -%}
  var userSource = '';
    if(navigator.userAgent.includes('Mobile')) userSource = 'Mobile';
    else if(navigator.userAgent.includes('iPad')) userSource = 'Tablet';
    else userSource = 'Desktop';
  $("#update-cart").click(function(){
    {%- assign final__price = cart.total_price | plus: 0 | divided_by: 100 -%}
    clevertap.event.push("Checkout Button Clicked", {
      "Amount": {{final__price}},
      "Product Name": {{foo}},
      "userSource": userSource
    });
    dataLayer.push({ ecommerce: null });  // Clear the previous ecommerce object.
    dataLayer.push({
      'event': 'begin_checkout',
      'ecommerce': {
        'items': [
          {%- for item in cart.items -%}
            {
              'item_name': '{{item.product.title}}',
              'item_id': '{{item.product.id}}',
              'price': '{{item.final_price | money  }}',
              'item_category': '{{item.product.type}}',
              'quantity': '{{item.quantity}}'
          	{% unless forloop.last %}
            },
            {% else %}
                }
            {%- endunless -%}
          {%- endfor -%}
        ]
      }
    });
  })
  
  $(document).ready(function(){
    var finalPrice = $(".final__price").val();
    var currency = Number(finalPrice.replace(/[^0-9\.-]+/g,""));

    if((currency >= 999)) {
      $(".gaana").show();
    }
    $('.cart-item').each(function() {
      let qty = $(this).find('.cart-item__quantity-input').val();
      if(qty > 7) {
          $('.gokwikpay').attr('disabled', true).css('pointer-events', 'none');
      } else {
          $('.gokwikpay').attr('disabled', false).css('pointer-events', 'auto');
      }
    })
//     if((currency >= 1000) && (currency < 1500)) {
//       $(".congrats-cable").show();
//     }

//     if((currency >= 1500) && (currency < 3500)) {
//       $(".congrats-bassheads").show();
//     }
    
//     if((currency > 2000)) {
//       $(".congrats-bassheads").show();
//     }
  })
  
  setInterval(function () {
//         $(".freebies-text p").hide();
    	var finalPrice1 = $(".final__price").val();
        var currency1 = Number(finalPrice1.replace(/[^0-9\.-]+/g,""));

        if((currency1 >= 999)) {
          $(".gaana").show();
        }
        else {
       	  $(".gaana").hide();
        }
        $('.cart-item').each(function() {
          let qty = $(this).find('.cart-item__quantity-input').val();
          if(qty > 7) {
              $('.gokwikpay').attr('disabled', true).css('pointer-events', 'none');
          } else {
              $('.gokwikpay').attr('disabled', false).css('pointer-events', 'auto');
          }
        })
		if(currency1 > 49000) {
                          $('#cartform .checkout-buttons, #cartform .gokwik-container').hide()
                          $('.cart-val-error').html(`Cart value cannot be greater than <strong>49000!</strong> Reduce cart value to proceed.`).show();
                      } else {
                      	 $('#cartform .checkout-buttons, #cartform .gokwik-container').show()
                         $('.cart-val-error').hide()
                      }
        },1000); 

			if($('.product-gift-box').length > 0){
        	$('.product-gift-box .cart-item__quantity').hide()
        }
</script>
<style>
.cart-val-error {
        	color: #fff;
            background: #ff0000;
            font-size: 14px;
            max-width: 90%;
            margin: 0 auto 12px;
            border-radius: 10px;
          text-align: center;
        }
</style>
{% schema %}
  {
    "name": "Cart page",
    "settings": [
    {
        "type": "checkbox",
        "id": "enable_cart_notes",
        "label": "Enable cart notes",
        "default": false
      },
      {
        "type": "page",
        "id": "cart_terms_page",
        "label": "Page for Terms and Conditions link",
        "info": "Additional checkout buttons will be hidden when cart terms are shown"
      },
      {
        "type": "header",
        "content": "Shipping rates calculator"
      },
      {
        "type": "checkbox",
        "id": "show_shipping_calculator",
        "label": "Show",
        "default": false
      },
      {
        "type": "text",
        "id": "shipping_calculator_default_country",
        "label": "Default country selection",
        "default": "United States"
      },
      {
        "type": "paragraph",
        "content": "If your customer is logged-in, the country in his default shipping address will be selected. If you are not sure about the spelling to use here, refer to your first checkout page dropdown."
      }
  ]
  }
{% endschema %}
<style>
.prodct_variant {padding: 0; display: flex;flex-wrap: wrap;margin: 0 0 -10px;list-style: none;}

.prodct_variant li {
    height: 23px !important;
  	width: 23px;
    border-radius: 50% !important;
}
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}
  .cart-item__quantity-input {pointer-events: none;}
  .quantity {
  	height: 30px;
    display: flex;
    align-items: center;
    border:0;
  }
  .quantity-down, .quantity-up {
  	background: #000;
    height: 100%;
    line-height: 30px;
    text-align: center;
    padding: 0 7px !important;
  }
  .quantity-down svg, .quantity-up svg {
  	stroke: white;
    stroke-width: 2px;
  }
</style>